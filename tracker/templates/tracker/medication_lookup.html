{% extends "tracker/base.html" %}
{% block title %}Medication Lookup{% endblock %}
{% block content %}
    <div class="container">
        <form action="/" method="post" enctype="multipart/form-data" novalidate>
            {% csrf_token %}
            <h1>{{ form.medication_image.help_text|default:"Medication Lookup" }}</h1>
            <div class="fieldWrapper">
                {{ form.medication_image.label_tag }}
                {{ form.medication_image }}
                {{ form.medication_image.errors }}
            </div>
            <input type="submit" value="Upload & Process" />
        </form>
        {% if messages %}
            <div class="results-container">
                {% for message in messages %}
                    <div class="result-card {{ message.tags }}">
                        <h2 class="result-title">
                            {% if 'error' in message.tags %}
                                Error
                            {% else %}
                                Medication Information
                            {% endif %}
                        </h2>
                        <div class="result-content">{{ message|safe }}</div>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
{% endblock %}
